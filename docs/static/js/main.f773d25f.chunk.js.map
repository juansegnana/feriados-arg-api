{"version":3,"sources":["components/Footer.js","helpers/obtenerFecha.js","components/ProximoFeriado.js","hooks/useFetch.js","index.js"],"names":["Footer","className","href","target","rel","obtenerFecha","date","dia","getDate","mes","getMonth","mesNombre","año","getFullYear","ProximoFeriado","newData","daysLeft","dateNext","Date","url","isMounted","useRef","useState","data","loading","error","state","setState","useEffect","current","fetch","then","resp","json","useFetch","find","elem","dateToday","parseInt","motivo","tipo","info","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LAEaA,EAAS,WAClB,OACI,wBAAQC,UAAU,kBAAlB,SACG,oEACuC,mBAAGC,KAAK,+BAA+BC,OAAO,SAASC,IAAI,sBAA3D,2BADvC,IAGK,uBACA,mBAAGF,KAAK,+BAA+BD,UAAU,uBAAjD,gCCRHI,EAAe,SAAEC,GAsB1B,MAhBc,CACVC,IAAKD,EAAKE,UACVC,IAAKH,EAAKI,WAAa,EACvBC,UAPU,CAAE,QAAQ,UAAU,QAAQ,QAAQ,OAAO,QAAQ,QAAQ,SAAS,aAAa,UAAU,YAAY,aAO/FL,EAAKI,YACvBE,SAAKN,EAAKO,gB,OCHLC,G,MAAiB,WAAM,IAM5BC,EACAC,EACAC,EAR4B,EAIKZ,EAAa,IAAIa,MAA9CX,EAJwB,EAIxBA,IAAKE,EAJmB,EAInBA,IAAKE,EAJc,EAIdA,UAAWC,EAJG,EAIHA,SAJG,ECNZ,SAAEO,GAEtB,IAAMC,EAAYC,kBAAO,GAFM,EAILC,mBAAS,CAAEC,KAAM,KAAMC,SAAS,EAAMC,MAAO,OAJxC,mBAIxBC,EAJwB,KAIjBC,EAJiB,KAiC/B,OA3BAC,qBAAU,WAEN,OAAO,WACHR,EAAUS,SAAU,KAGzB,IAEHD,qBAAW,WAEPD,EAAS,CAAEJ,KAAM,KAAMC,SAAS,EAAMC,MAAO,cAG7CK,MAAOX,GACFY,MAAM,SAAAC,GAAI,OAAIA,EAAKC,UACnBF,MAAM,SAAAR,GACCH,EAAUS,SACVF,EAAS,CACLH,SAAS,EACTC,MAAO,KACPF,cAKjB,CAAEJ,IAEEO,EDjBmBQ,CAAS,+CAAD,OAAiDtB,IAA3EY,EAVwB,EAUxBA,QAASD,EAVe,EAUfA,KAGjB,GAAOA,EAAM,EAETR,EAAUQ,EAAKY,MAAM,SAAEC,GAAF,OAChBA,EAAK3B,MAAQA,GAAO2B,EAAK7B,IAAMA,GAAQ6B,EAAK3B,IAAMA,SAKnDM,EAAUQ,EAAK,IAEPX,SAAMA,EAAI,GAEtBK,EAAW,IAAIC,KAASH,EAAQH,SAAMG,EAAQH,SAAMA,EAAMG,EAAQN,IAAM,EAAGM,EAAQR,KAEnF,IAAM8B,EAAY,IAAInB,KAAMN,EAAKH,EAAI,EAAGF,GAExCS,EAAWsB,UAAUrB,EAAWoB,GAAZ,MAAgD,IACpEpB,EAAWZ,EAAcY,GAM7B,OACI,gCACI,sDACA,uBAEA,qBAAKhB,UAAU,mBAAf,SACI,sBAAKA,UAAU,YAAf,UAEI,oBAAIA,UAAU,aAAd,qBACA,oBAAGA,UAAU,YAAb,cAA2BM,EAA3B,OAAoCI,EAApC,QAAoDC,EAApD,YAMJY,EAGQ,qBAAKvB,UAAU,+BAAf,yBAIA,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,cAAf,gCAGA,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SACMc,EAAQwB,SAEd,oBAAGtC,UAAU,YAAb,8BACuBc,EAAQyB,KAD/B,IAEI,uBAFJ,UAGavB,EAASV,IAHtB,MAGgCU,EAASR,IAHzC,MAGmDQ,EAASL,YAE5D,mBACIX,UAAU,kBACVC,KAAOa,EAAQ0B,KACftC,OAAO,SACPC,IAAI,sBAJR,4BASJ,sBAAKH,UAAU,yBAAf,oBACae,EADb,uBEnF5B0B,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.f773d25f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Footer = () => {\r\n    return (\r\n        <footer className=\"text-muted pt-4\">\r\n           <p>\r\n               En progreso. Usando React y API de <a href=\"https://nolaborables.com.ar/\" target=\"_blank\" rel=\"noopener noreferrer\" > NoLaborables</a>\r\n                . \r\n                <br />\r\n                <a href=\"mailto:segnanajuan@gmail.com\" className=\"text-decoration-none\">Juan Segnana</a>\r\n            </p>\r\n        </footer>\r\n    )\r\n}\r\n","\r\nexport const obtenerFecha = ( date ) => {\r\n\r\n    const meses = [ \"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\",\"Agosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Diciembre\" ];\r\n\r\n    // const date = new Date();\r\n    \r\n    const fecha = {\r\n        dia: date.getDate(),\r\n        mes: date.getMonth() + 1,\r\n        mesNombre: meses[ date.getMonth() ],\r\n        año: date.getFullYear()\r\n    }; \r\n\r\n    // Uso temporal para pruebas\r\n    /* const fecha = {\r\n        dia: 6,\r\n        mes: 8,\r\n        mesNombre: meses[ 7 ],\r\n        año: 2020\r\n    }; */\r\n\r\n    \r\n    return fecha;\r\n}\r\n","// https://pjnovas.gitbooks.io/no-laborables/content/feriados.html\r\n\r\nimport React from 'react'\r\nimport { obtenerFecha } from '../helpers/obtenerFecha';\r\nimport { useFetch } from '../hooks/useFetch';\r\n\r\nimport '../styles/ProximoFeriado.css'\r\n\r\nexport const ProximoFeriado = () => {\r\n\r\n    // ?incluir=opcional\r\n    \r\n    const { dia, mes, mesNombre, año } = obtenerFecha(new Date());\r\n    // console.log(mes);\r\n    let newData;\r\n    let daysLeft;\r\n    let dateNext;\r\n    \r\n    const { loading, data } = useFetch(`https://nolaborables.com.ar/api/v2/feriados/${ año }`);\r\n    \r\n    // Obtener feriado más cercano\r\n    if ( !!data ){\r\n\r\n        newData = data.find( ( elem ) =>\r\n            (elem.mes === mes && elem.dia > dia) || elem.mes > mes\r\n        );\r\n        \r\n        // Si no existe coincidencia, está próximo a Año Nuevo.\r\n        if ( !newData ) {\r\n            newData = data[0];\r\n            // console.log('proximo a año nuevo');\r\n            newData.año = año+1;\r\n        }\r\n        dateNext = new Date( (!!newData.año ? newData.año : año), newData.mes - 1, newData.dia );\r\n        \r\n        const dateToday = new Date( año, mes-1, dia );\r\n        // Obtener dias restantes\r\n        daysLeft = parseInt((dateNext - dateToday) / (1000 * 60 * 60 * 24), 10);\r\n        dateNext = obtenerFecha( dateNext );\r\n        // console.log(dateNext);\r\n        // console.log( newData );\r\n\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <h1>Buscador de feriados</h1>\r\n            <hr />\r\n\r\n            <div className=\"card text-center\">\r\n                <div className=\"card-body\">\r\n\r\n                    <h5 className=\"card-title\"> Hoy es</h5>\r\n                    <p className=\"card-text\"> {dia} de {mesNombre} del {año} </p>\r\n                \r\n                </div>\r\n            </div>\r\n            \r\n            {\r\n                loading\r\n                ?\r\n                    (\r\n                        <div className=\"alert alert-info text-center\">Cargando...</div>\r\n                    ) \r\n                :\r\n                    (\r\n                        <div className=\"card text-center\">\r\n                            <div className=\"card-header\">\r\n                                Próximo feriado\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">\r\n                                    { newData.motivo } \r\n                                </h5>\r\n                                <p className=\"card-text\">\r\n                                    Tipo de feriado: { newData.tipo }.\r\n                                    <br />\r\n                                    Fecha: { dateNext.dia } / { dateNext.mes } / { dateNext.año }\r\n                                </p>\r\n                                <a\r\n                                    className=\"btn btn-primary\"\r\n                                    href={ newData.info }\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                >\r\n                                    Más info\r\n                                </a>\r\n                            </div>\r\n                            <div className=\"card-footer text-muted\">\r\n                                Faltan { daysLeft } días.\r\n                            </div>\r\n                        </div>\r\n                    )\r\n            }\r\n            {/* TODO: Mostrar con .map toda la lista de feriados. */}\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\n\r\nexport const useFetch = ( url ) => {\r\n\r\n    const isMounted = useRef(true);\r\n\r\n    const [state, setState] = useState({ data: null, loading: true, error: null });\r\n\r\n    useEffect(() => {\r\n    \r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n\r\n    }, [])\r\n\r\n    useEffect( () => {\r\n        \r\n        setState({ data: null, loading: true, error: 'useEffect' });\r\n        // console.log( isMounted.current );\r\n        \r\n        fetch( url )\r\n            .then( resp => resp.json() )\r\n            .then( data => {\r\n                if( isMounted.current ) {\r\n                    setState({\r\n                        loading: false,\r\n                        error: null,\r\n                        data\r\n                    });\r\n                }\r\n            });\r\n            \r\n    }, [ url ])\r\n\r\n    return state;\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Footer } from './components/Footer';\nimport { ProximoFeriado } from './components/ProximoFeriado';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProximoFeriado />\n    <Footer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}